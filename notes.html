<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Notes &amp; Sandbox – Civic Engagement Experiment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="Notes, journal entries, and an AI summarization sandbox for the Civic Engagement Experiment by Nathan Sanchez."
  />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="notes-page">
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">
        <h1>Civic Engagement</h1>
        <p>Experiment &amp; Lab</p>
      </div>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="journal-memo.html">Journal Memo</a>
        <a href="civic-engagement-project.html">Civic Engagement Project</a>
        <a href="notes.html">Notes &amp; Sandbox</a>
        <a href="questionnaires.html">Questionnaires</a>
        <a href="https://syndorzaldrizes.github.io/Syndor/" target="_blank">MSL Site</a>
      </nav>
    </aside>
    <main class="content">
      <section>
        <h2>Notes &amp; Journal</h2>
        <p>
          This section collects public‑facing notes, journal memos, and reflections on
          democracy, civic engagement, and political socialization. Some entries come from
          coursework (like the journal memo on democracy), others from campaign and legislative
          work, and some from whatever I’m thinking about while institutions do what institutions
          do.
        </p>
        <div class="card">
          <h3>Entry Index (Placeholder)</h3>
          <p class="small">
            As entries are written, they can be added as links here, grouped by theme or date.
          </p>
          <ul class="small">
            <li><strong>[Planned]</strong> Democracy Memo #1 – What people think democracy is versus what it feels like</li>
            <li><strong>[Planned]</strong> Youth Civic Engagement – Why “apathy” is often a story adults tell</li>
            <li><strong>[Planned]</strong> Campaign Notes – What you learn about institutions when you knock doors</li>
          </ul>
        </div>
      </section>

      <section>
        <h2>Summarization Sandbox</h2>
        <p>
          Paste a block of text (essay, article, notes) into the box below and press
          <em>Summarize</em> to get a concise summary. This tool works offline and uses a
          simple algorithm to find the most important sentences.
        </p>
        <div class="card">
          <label for="inputText"><strong>Input Text</strong></label>
          <textarea id="inputText" rows="8" style="width: 100%; margin-top: 0.5rem;"></textarea>
          <label for="summaryLength" class="small" style="margin-top: 0.75rem; display: block;">Number of sentences in summary:</label>
          <input type="number" id="summaryLength" value="3" min="1" max="10" style="width: 80px;" />
          <button id="summarizeButton" class="btn btn-primary" style="margin-top: 1rem;">Summarize</button>
          <div id="summaryResult" class="card" style="margin-top: 1rem; display:none;">
            <h3>Summary</h3>
            <p id="summaryText" class="small"></p>
          </div>
        </div>
      </section>

      <section>
        <h2>How This Section Will Work</h2>
        <div class="card">
          <p>
            Over time, each entry can live either as a simple HTML page (e.g.,
            <code>notes/democracy-memo-1.html</code>), linked from the index, or a Markdown file
            rendered elsewhere, summarized and linked here. The goal isn’t to publish perfect
            essays; it’s to have a visible record of thinking in progress about democracy and
            civic engagement.
          </p>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Simple text summarization: ranks sentences by word frequency and returns top N.
    function summarizeText(text, numSentences) {
      // Split text into sentences using regex for punctuation.
      const sentences = text
        .replace(/\n+/g, ' ')
        .match(/[^.!?]+[.!?\n]/g) || [];
      if (sentences.length === 0) return [];

      // Tokenize words and count frequencies.
      const wordFreq = {};
      const stopWords = new Set([
        'the','a','an','and','or','but','if','in','on','with','of','for','to','is','are','was','were','be','been','being','that','this','it','as','at','by','from','which','we','you','they','he','she','i','me','my','your','our','their','his','her','its','us'
      ]);
      sentences.forEach((sentence) => {
        sentence.toLowerCase().split(/[^a-zA-Z0-9']+/).forEach((word) => {
          if (word && !stopWords.has(word)) {
            wordFreq[word] = (wordFreq[word] || 0) + 1;
          }
        });
      });

      // Score sentences based on word frequency.
      const sentenceScores = sentences.map((sentence, idx) => {
        let score = 0;
        sentence.toLowerCase().split(/[^a-zA-Z0-9']+/).forEach((word) => {
          if (wordFreq[word]) score += wordFreq[word];
        });
        return { sentence: sentence.trim(), score };
      });

      // Sort sentences by score descending and return top N.
      sentenceScores.sort((a, b) => b.score - a.score);
      return sentenceScores.slice(0, numSentences).map((s) => s.sentence);
    }

    document.getElementById('summarizeButton').addEventListener('click', () => {
      const text = document.getElementById('inputText').value;
      const num = parseInt(document.getElementById('summaryLength').value, 10) || 3;
      const summary = summarizeText(text, num);
      const resultBox = document.getElementById('summaryResult');
      const summaryText = document.getElementById('summaryText');
      if (summary.length > 0) {
        summaryText.textContent = summary.join(' ');
        resultBox.style.display = 'block';
      } else {
        summaryText.textContent = 'Unable to generate summary. Please provide more text.';
        resultBox.style.display = 'block';
      }
    });
  </script>
</body>
</html>